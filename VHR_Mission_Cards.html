<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Missioni â€” Vercelli Hidden Runes</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=Cinzel+Decorative:wght@700&family=EB+Garamond:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
<style>
:root {
  --ink:        #0e0c09;
  --parchment:  #f2e8d0;
  --gold:       #c9922a;
  --gold-lt:    #e8b84b;
  --mist:       #8a7d65;
  --stone:      #2a241b;

  /* Elementi */
  --fire-a:  #8b1a0a;
  --fire-b:  #d44f10;
  --fire-c:  #f5a623;
  --fire-glow: rgba(212,79,16,0.6);

  --water-a: #0a2a4a;
  --water-b: #1565a0;
  --water-c: #4fc3f7;
  --water-glow: rgba(21,101,160,0.6);

  --earth-a: #1a2e0a;
  --earth-b: #2e5e10;
  --earth-c: #7cb342;
  --earth-glow: rgba(46,94,16,0.6);

  --wind-a:  #1a1a2e;
  --wind-b:  #4a1c6e;
  --wind-c:  #b57bee;
  --wind-glow: rgba(74,28,110,0.6);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
  background: var(--ink);
  background-image:
    radial-gradient(ellipse at 20% 50%, rgba(201,146,42,0.04) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 20%, rgba(46,94,16,0.04) 0%, transparent 50%);
  color: var(--parchment);
  font-family: 'EB Garamond', serif;
  font-size: 16px;
  min-height: 100vh;
  overflow-x: hidden;
}

/* grain */
body::after {
  content:''; position:fixed; inset:0; z-index:0; pointer-events:none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  opacity: 0.4;
}

/* â”€â”€ TOPBAR â”€â”€ */
.topbar {
  position: sticky; top: 0; z-index: 200;
  background: rgba(14,12,9,0.94);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(201,146,42,0.2);
  display: flex; align-items: center; justify-content: space-between;
  padding: 14px 40px;
}
.topbar-logo {
  font-family: 'Cinzel Decorative', serif;
  font-size: 14px; color: var(--gold);
  letter-spacing: 0.08em;
  display: flex; align-items: center; gap: 12px;
}
.topbar-logo svg { opacity: 0.9; }
.topbar-right {
  display: flex; align-items: center; gap: 20px;
}
.filter-btn {
  font-family: 'Cinzel', serif;
  font-size: 10px; letter-spacing: 0.18em; text-transform: uppercase;
  padding: 6px 16px; border-radius: 2px;
  border: 1px solid rgba(201,146,42,0.25);
  background: transparent; color: var(--mist);
  cursor: pointer; transition: all 0.2s;
}
.filter-btn:hover, .filter-btn.active {
  border-color: var(--gold); color: var(--gold-lt);
  background: rgba(201,146,42,0.08);
}
.filter-btn.fire.active   { border-color:var(--fire-b);  color:var(--fire-c);  background:rgba(212,79,16,0.1); }
.filter-btn.water.active  { border-color:var(--water-b); color:var(--water-c); background:rgba(21,101,160,0.1); }
.filter-btn.earth.active  { border-color:var(--earth-b); color:var(--earth-c); background:rgba(46,94,16,0.1); }
.filter-btn.wind.active   { border-color:var(--wind-b);  color:var(--wind-c);  background:rgba(74,28,110,0.1); }

/* â”€â”€ HERO â”€â”€ */
.hero {
  position: relative; z-index:1;
  text-align: center;
  padding: 64px 40px 48px;
  border-bottom: 1px solid rgba(201,146,42,0.1);
}
.hero-eyebrow {
  font-family: 'Cinzel', serif;
  font-size: 10px; letter-spacing: 0.3em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 12px;
}
.hero h1 {
  font-family: 'Cinzel Decorative', serif;
  font-size: clamp(1.8rem, 4vw, 3rem);
  font-weight: 700; line-height: 1.1;
  color: var(--parchment); margin-bottom: 10px;
}
.hero h1 span { color: var(--gold); }
.hero p {
  font-style: italic; color: var(--mist);
  max-width: 480px; margin: 0 auto;
  font-size: 1.05em;
}

/* â”€â”€ GRID â”€â”€ */
.grid-section {
  position: relative; z-index:1;
  padding: 56px 40px 80px;
}
.grid-title {
  font-family: 'Cinzel', serif;
  font-size: 11px; letter-spacing: 0.25em; text-transform: uppercase;
  color: var(--mist); margin-bottom: 32px;
  display: flex; align-items: center; gap: 16px;
}
.grid-title::after {
  content:''; flex:1; height:1px;
  background: linear-gradient(90deg, rgba(201,146,42,0.3), transparent);
}

.cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 32px;
  align-items: start;
}

/* â”€â”€ CARD â”€â”€ */
.card {
  position: relative;
  width: 100%;
  max-width: 320px;
  margin: 0 auto;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.35s cubic-bezier(.17,.67,.35,1.2), box-shadow 0.35s;
  transform-style: preserve-3d;
}
.card:hover {
  transform: translateY(-10px) scale(1.02);
}

/* Element glow on hover */
.card.fire:hover  { box-shadow: 0 20px 60px var(--fire-glow),  0 0 0 1px var(--fire-b); }
.card.water:hover { box-shadow: 0 20px 60px var(--water-glow), 0 0 0 1px var(--water-b); }
.card.earth:hover { box-shadow: 0 20px 60px var(--earth-glow), 0 0 0 1px var(--earth-b); }
.card.wind:hover  { box-shadow: 0 20px 60px var(--wind-glow),  0 0 0 1px var(--wind-b); }

.card-inner {
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.08);
  background: var(--stone);
  position: relative;
}

/* Elemento border gradient */
.card.fire  .card-inner { border-color: rgba(212,79,16,0.5); }
.card.water .card-inner { border-color: rgba(21,101,160,0.5); }
.card.earth .card-inner { border-color: rgba(46,94,16,0.5); }
.card.wind  .card-inner { border-color: rgba(74,28,110,0.5); }

/* â”€â”€ CARD HEADER â”€â”€ */
.card-header {
  padding: 10px 14px 8px;
  display: flex; align-items: center; justify-content: space-between;
}
.card-name {
  font-family: 'Cinzel', serif;
  font-size: 13px; font-weight: 700;
  letter-spacing: 0.04em;
  color: var(--parchment);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  max-width: 180px;
}
.card-cost {
  display: flex; align-items: center; gap: 4px;
}
.cost-gem {
  width: 22px; height: 22px;
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 10px; font-weight: 700;
  font-family: 'Cinzel', serif;
  border: 1px solid rgba(255,255,255,0.2);
  flex-shrink: 0;
}
.card.fire  .cost-gem { background: linear-gradient(135deg,var(--fire-a),var(--fire-b));  color: var(--fire-c); }
.card.water .cost-gem { background: linear-gradient(135deg,var(--water-a),var(--water-b)); color: var(--water-c); }
.card.earth .cost-gem { background: linear-gradient(135deg,var(--earth-a),var(--earth-b)); color: var(--earth-c); }
.card.wind  .cost-gem { background: linear-gradient(135deg,var(--wind-a),var(--wind-b));  color: var(--wind-c); }

/* â”€â”€ ARTWORK â”€â”€ */
.card-artwork {
  position: relative;
  width: 100%; height: 170px;
  overflow: hidden;
  border-top: 2px solid; border-bottom: 2px solid;
}
.card.fire  .card-artwork { border-color: var(--fire-b); }
.card.water .card-artwork { border-color: var(--water-b); }
.card.earth .card-artwork { border-color: var(--earth-b); }
.card.wind  .card-artwork { border-color: var(--wind-b); }

.card-artwork svg {
  width: 100%; height: 100%;
  transition: transform 0.5s ease;
}
.card:hover .card-artwork svg { transform: scale(1.06); }

/* vignette overlay */
.card-artwork::after {
  content:''; position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,0.2) 0%, transparent 30%, transparent 70%, rgba(0,0,0,0.5) 100%);
  pointer-events: none;
}

/* rarity badge */
.rarity-badge {
  position: absolute; top: 8px; right: 8px; z-index:2;
  font-family: 'Cinzel', serif;
  font-size: 8px; letter-spacing: 0.18em; text-transform: uppercase;
  padding: 3px 8px; border-radius: 2px;
  backdrop-filter: blur(6px);
}
.card.fire  .rarity-badge { background:rgba(212,79,16,0.7);  color:#ffd0a0; border:1px solid var(--fire-b); }
.card.water .rarity-badge { background:rgba(21,101,160,0.7); color:#a0d8ff; border:1px solid var(--water-b); }
.card.earth .rarity-badge { background:rgba(46,94,16,0.7);   color:#c0f0a0; border:1px solid var(--earth-b); }
.card.wind  .rarity-badge { background:rgba(74,28,110,0.7);  color:#e0b0ff; border:1px solid var(--wind-b); }

/* â”€â”€ TYPE BAR â”€â”€ */
.card-type {
  padding: 5px 14px;
  font-family: 'Cinzel', serif;
  font-size: 9px; letter-spacing: 0.16em; text-transform: uppercase;
  display: flex; align-items: center; justify-content: space-between;
}
.card.fire  .card-type { background:rgba(212,79,16,0.12);  color:var(--fire-c); }
.card.water .card-type { background:rgba(21,101,160,0.12); color:var(--water-c); }
.card.earth .card-type { background:rgba(46,94,16,0.12);   color:var(--earth-c); }
.card.wind  .card-type { background:rgba(74,28,110,0.12);  color:var(--wind-c); }

/* â”€â”€ TEXT BOX â”€â”€ */
.card-textbox {
  padding: 12px 14px;
  background: rgba(0,0,0,0.25);
  border-top: 1px solid rgba(255,255,255,0.05);
  min-height: 90px;
}
.card-flavor {
  font-style: italic;
  font-size: 13px;
  color: rgba(242,232,208,0.75);
  line-height: 1.55;
  border-bottom: 1px solid rgba(255,255,255,0.07);
  padding-bottom: 8px;
  margin-bottom: 8px;
}
.card-enigma {
  font-size: 12px;
  color: rgba(242,232,208,0.55);
  font-style: italic;
  line-height: 1.45;
}
.card-enigma strong {
  font-style: normal;
  font-family: 'Cinzel', serif;
  font-size: 9px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  display: block;
  margin-bottom: 3px;
  color: rgba(242,232,208,0.35);
}

/* â”€â”€ STATS BAR â”€â”€ */
.card-stats {
  padding: 10px 14px;
  display: flex; align-items: center; justify-content: space-between;
  background: rgba(0,0,0,0.3);
  border-top: 1px solid rgba(255,255,255,0.06);
}
.stat {
  display: flex; flex-direction: column; align-items: center; gap: 2px;
}
.stat-val {
  font-family: 'Cinzel', serif;
  font-size: 13px; font-weight: 700;
  color: var(--parchment);
}
.stat-label {
  font-family: 'Cinzel', serif;
  font-size: 8px; letter-spacing: 0.12em; text-transform: uppercase;
  color: var(--mist);
}
.stat-sep {
  width: 1px; height: 28px;
  background: rgba(255,255,255,0.08);
}

/* â”€â”€ REWARDS â”€â”€ */
.card-rewards {
  padding: 8px 14px 12px;
  display: flex; gap: 6px; flex-wrap: wrap;
  background: rgba(0,0,0,0.2);
}
.reward-pill {
  font-family: 'Cinzel', serif;
  font-size: 9px; letter-spacing: 0.1em; text-transform: uppercase;
  padding: 3px 10px; border-radius: 20px;
  border: 1px solid;
}
.card.fire  .reward-pill { background:rgba(212,79,16,0.1);  border-color:rgba(212,79,16,0.3);  color:var(--fire-c); }
.card.water .reward-pill { background:rgba(21,101,160,0.1); border-color:rgba(21,101,160,0.3); color:var(--water-c); }
.card.earth .reward-pill { background:rgba(46,94,16,0.1);   border-color:rgba(46,94,16,0.3);   color:var(--earth-c); }
.card.wind  .reward-pill { background:rgba(74,28,110,0.1);  border-color:rgba(74,28,110,0.3);  color:var(--wind-c); }
.reward-gold {
  background: rgba(201,146,42,0.1);
  border-color: rgba(201,146,42,0.4);
  color: var(--gold-lt);
}

/* â”€â”€ FOOTER CARD â”€â”€ */
.card-footer {
  padding: 6px 14px;
  display: flex; align-items: center; justify-content: space-between;
  border-top: 1px solid rgba(255,255,255,0.05);
}
.card-num {
  font-family: 'Cinzel', serif;
  font-size: 9px; color: rgba(138,125,101,0.4);
  letter-spacing: 0.1em;
}
.card-set {
  font-family: 'Cinzel', serif;
  font-size: 9px; color: rgba(138,125,101,0.4);
  letter-spacing: 0.08em;
}

/* â”€â”€ MODAL (card detail) â”€â”€ */
.modal-overlay {
  display: none;
  position: fixed; inset:0; z-index: 500;
  background: rgba(0,0,0,0.85);
  backdrop-filter: blur(8px);
  align-items: center; justify-content: center;
  padding: 20px;
}
.modal-overlay.open { display: flex; }
.modal-card {
  max-width: 380px; width: 100%;
  animation: popIn 0.3s cubic-bezier(.17,.67,.35,1.3) forwards;
}
@keyframes popIn {
  from { transform: scale(0.8) translateY(40px); opacity:0; }
  to   { transform: scale(1) translateY(0); opacity:1; }
}
.modal-close {
  position: absolute; top: 20px; right: 20px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.1);
  color: var(--parchment); font-size: 18px;
  width: 36px; height: 36px; border-radius: 50%;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  transition: background 0.2s;
}
.modal-close:hover { background: rgba(255,255,255,0.15); }

/* â”€â”€ LEGEND â”€â”€ */
.legend {
  position: relative; z-index:1;
  display: flex; justify-content: center; gap: 32px; flex-wrap: wrap;
  padding: 0 40px 60px;
}
.legend-item {
  display: flex; align-items: center; gap: 8px;
  font-family: 'Cinzel', serif;
  font-size: 11px; letter-spacing: 0.1em; text-transform: uppercase;
}
.legend-dot {
  width: 10px; height: 10px; border-radius: 50%;
  flex-shrink: 0;
}

/* â”€â”€ ANIMATIONS â”€â”€ */
.card { opacity:0; animation: fadeUp 0.6s ease forwards; }
.card:nth-child(1) { animation-delay: 0.1s; }
.card:nth-child(2) { animation-delay: 0.2s; }
.card:nth-child(3) { animation-delay: 0.3s; }
.card:nth-child(4) { animation-delay: 0.4s; }
.card:nth-child(5) { animation-delay: 0.5s; }
.card:nth-child(6) { animation-delay: 0.6s; }
@keyframes fadeUp {
  from { opacity:0; transform: translateY(24px); }
  to   { opacity:1; transform: translateY(0); }
}

@media(max-width:600px){
  .topbar { padding:12px 16px; }
  .topbar-right { gap:8px; }
  .filter-btn { padding:5px 10px; font-size:9px; }
  .hero { padding:48px 20px 36px; }
  .grid-section { padding:40px 16px 60px; }
}
</style>
</head>
<body>

<!-- TOPBAR -->
<div class="topbar">
  <div class="topbar-logo">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="10" stroke="#c9922a" stroke-width="1" stroke-dasharray="2 3" opacity="0.6"/>
      <path d="M5 7L9 17L12 10L15 17L19 7" stroke="#c9922a" stroke-width="1.5" fill="none" stroke-linecap="round"/>
      <line x1="9" y1="13" x2="15" y2="13" stroke="#c9922a" stroke-width="1.5" stroke-linecap="round"/>
    </svg>
    VHR Â· Missioni
  </div>
  <div class="topbar-right">
    <button class="filter-btn active" onclick="filterCards('all',this)">Tutte</button>
    <button class="filter-btn fire"  onclick="filterCards('fire',this)">ðŸ”¥ Fuoco</button>
    <button class="filter-btn water" onclick="filterCards('water',this)">ðŸ’§ Acqua</button>
    <button class="filter-btn earth" onclick="filterCards('earth',this)">ðŸŒ¿ Terra</button>
    <button class="filter-btn wind"  onclick="filterCards('wind',this)">âš¡ Vento</button>
  </div>
</div>

<!-- HERO -->
<div class="hero">
  <p class="hero-eyebrow">áš¢ Â· ášº Â· áš± Â· Scegli la tua missione</p>
  <h1>Missioni <span>Leggendarie</span></h1>
  <p>Ogni carta nasconde un segreto di Vercelli. Scegli il tuo elemento, affronta l'enigma, rivendica la ricompensa.</p>
</div>

<!-- CARDS GRID -->
<div class="grid-section">
  <p class="grid-title">Missioni disponibili Â· Fase I</p>

  <div class="cards-grid" id="cardsGrid">

    <!-- CARD 1 Â· FUOCO Â· Difficile -->
    <div class="card fire" data-element="fire" onclick="openModal(this)">
      <div class="card-inner">
        <div class="card-header">
          <span class="card-name">La Torre del Fuoco</span>
          <div class="card-cost">
            <div class="cost-gem">ðŸ”¥</div>
            <div class="cost-gem">ðŸ”¥</div>
            <div class="cost-gem">ðŸ”¥</div>
          </div>
        </div>
        <div class="card-artwork">
          <svg viewBox="0 0 320 170" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <radialGradient id="sky1" cx="50%" cy="30%">
                <stop offset="0%" stop-color="#3d1505"/>
                <stop offset="100%" stop-color="#0e0804"/>
              </radialGradient>
              <radialGradient id="glare1" cx="50%" cy="100%">
                <stop offset="0%" stop-color="#d44f10" stop-opacity="0.6"/>
                <stop offset="100%" stop-color="transparent"/>
              </radialGradient>
            </defs>
            <rect width="320" height="170" fill="url(#sky1)"/>
            <rect width="320" height="170" fill="url(#glare1)"/>
            <!-- Stars -->
            <circle cx="40" cy="20" r="1" fill="#ffd0a0" opacity="0.7"/>
            <circle cx="80" cy="35" r="0.8" fill="#ffd0a0" opacity="0.5"/>
            <circle cx="200" cy="15" r="1" fill="#ffd0a0" opacity="0.6"/>
            <circle cx="270" cy="28" r="0.8" fill="#ffd0a0" opacity="0.4"/>
            <circle cx="300" cy="12" r="1.2" fill="#ffd0a0" opacity="0.5"/>
            <!-- Moon -->
            <circle cx="260" cy="30" r="14" fill="#3d1505"/>
            <circle cx="255" cy="27" r="12" fill="#c44a14" opacity="0.3"/>
            <!-- Tower silhouette -->
            <rect x="120" y="30" width="80" height="120" fill="#1a0a02"/>
            <rect x="110" y="28" width="100" height="15" fill="#1a0a02"/>
            <rect x="115" y="18" width="12" height="16" fill="#1a0a02"/>
            <rect x="140" y="18" width="12" height="16" fill="#1a0a02"/>
            <rect x="165" y="18" width="12" height="16" fill="#1a0a02"/>
            <rect x="193" y="18" width="12" height="16" fill="#1a0a02"/>
            <!-- Tower windows glowing -->
            <rect x="148" y="55" width="24" height="30" rx="12" fill="#d44f10" opacity="0.8"/>
            <rect x="148" y="55" width="24" height="30" rx="12" fill="#f5a623" opacity="0.3"/>
            <rect x="148" y="95" width="24" height="20" rx="10" fill="#d44f10" opacity="0.6"/>
            <!-- Fire glow at base -->
            <ellipse cx="160" cy="155" rx="60" ry="15" fill="#d44f10" opacity="0.4"/>
            <ellipse cx="160" cy="158" rx="40" ry="8" fill="#f5a623" opacity="0.5"/>
            <!-- Ground -->
            <rect x="0" y="148" width="320" height="22" fill="#0e0804"/>
            <!-- Rune on tower -->
            <text x="155" y="138" font-size="12" fill="#f5a623" opacity="0.6" font-family="serif">áš¦</text>
          </svg>
          <div class="rarity-badge">Leggendaria</div>
        </div>
        <div class="card-type">
          <span>Missione Â· Torre Medievale Â· Centro Storico</span>
          <span>Fuoco</span>
        </div>
        <div class="card-textbox">
          <div class="card-flavor">"La torre veglia su Vercelli da otto secoli. I suoi mattoni nascondono una lingua dimenticata."</div>
          <div class="card-enigma">
            <strong>Indizio</strong>
            Conta le finestre della torre e sommale all'anno inciso sulla pietra angolare. La risposta apre il passo.
          </div>
        </div>
        <div class="card-stats">
          <div class="stat"><div class="stat-val">5</div><div class="stat-label">Tappe</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">75'</div><div class="stat-label">Tempo</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">850</div><div class="stat-label">XP</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">â‚¬12</div><div class="stat-label">Quota</div></div>
        </div>
        <div class="card-rewards">
          <span class="reward-pill">Badge Guardiano</span>
          <span class="reward-pill reward-gold">Coupon 20%</span>
          <span class="reward-pill">Gadget VHR</span>
        </div>
        <div class="card-footer">
          <span class="card-num">VHR Â· 001/024</span>
          <span class="card-set">Serie Origini</span>
        </div>
      </div>
    </div>

    <!-- CARD 2 Â· ACQUA Â· Media -->
    <div class="card water" data-element="water" onclick="openModal(this)">
      <div class="card-inner">
        <div class="card-header">
          <span class="card-name">Il Canale dei Segreti</span>
          <div class="card-cost">
            <div class="cost-gem">ðŸ’§</div>
            <div class="cost-gem">ðŸ’§</div>
          </div>
        </div>
        <div class="card-artwork">
          <svg viewBox="0 0 320 170" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="sky2" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#0a1a2e"/>
                <stop offset="100%" stop-color="#0d2040"/>
              </linearGradient>
              <linearGradient id="water2" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#1565a0" stop-opacity="0.8"/>
                <stop offset="100%" stop-color="#0a1a2e"/>
              </linearGradient>
            </defs>
            <rect width="320" height="170" fill="url(#sky2)"/>
            <!-- Moon reflection -->
            <circle cx="160" cy="28" r="18" fill="#1565a0" opacity="0.4"/>
            <circle cx="160" cy="25" r="15" fill="#4fc3f7" opacity="0.2"/>
            <!-- Canal banks -->
            <rect x="0" y="95" width="70" height="75" fill="#0a1520"/>
            <rect x="250" y="95" width="70" height="75" fill="#0a1520"/>
            <!-- Water -->
            <rect x="70" y="95" width="180" height="75" fill="url(#water2)"/>
            <!-- Water ripples -->
            <ellipse cx="160" cy="120" rx="40" ry="4" fill="#4fc3f7" opacity="0.15"/>
            <ellipse cx="160" cy="130" rx="55" ry="3" fill="#4fc3f7" opacity="0.1"/>
            <ellipse cx="160" cy="140" rx="65" ry="3" fill="#4fc3f7" opacity="0.08"/>
            <!-- Moon reflection in water -->
            <ellipse cx="160" cy="115" rx="10" ry="14" fill="#4fc3f7" opacity="0.3"/>
            <!-- Bridge -->
            <rect x="50" y="75" width="220" height="22" rx="3" fill="#0d1f35"/>
            <rect x="70" y="63" width="16" height="35" fill="#0a1828"/>
            <rect x="117" y="63" width="16" height="35" fill="#0a1828"/>
            <rect x="187" y="63" width="16" height="35" fill="#0a1828"/>
            <rect x="234" y="63" width="16" height="35" fill="#0a1828"/>
            <!-- Arch under bridge -->
            <path d="M 70 97 Q 100 70 130 97" fill="#0a1520" stroke="#1565a0" stroke-width="0.5" opacity="0.5"/>
            <path d="M 130 97 Q 160 70 190 97" fill="#0a1520" stroke="#1565a0" stroke-width="0.5" opacity="0.5"/>
            <path d="M 190 97 Q 220 70 250 97" fill="#0a1520" stroke="#1565a0" stroke-width="0.5" opacity="0.5"/>
            <!-- Buildings -->
            <rect x="0" y="30" width="55" height="66" fill="#08121e"/>
            <rect x="265" y="40" width="55" height="56" fill="#08121e"/>
            <!-- Windows -->
            <rect x="10" y="40" width="8" height="10" rx="4" fill="#4fc3f7" opacity="0.4"/>
            <rect x="30" y="40" width="8" height="10" rx="4" fill="#4fc3f7" opacity="0.3"/>
            <rect x="10" y="58" width="8" height="10" rx="4" fill="#4fc3f7" opacity="0.3"/>
            <text x="148" y="88" font-size="10" fill="#4fc3f7" opacity="0.5" font-family="serif">á›š</text>
          </svg>
          <div class="rarity-badge">Non Comune</div>
        </div>
        <div class="card-type">
          <span>Missione Â· Canale Â· Naviglio</span>
          <span>Acqua</span>
        </div>
        <div class="card-textbox">
          <div class="card-flavor">"L'acqua ha sempre saputo dove andare. Seguila e ti condurrÃ  dove la cittÃ  smette di parlare."</div>
          <div class="card-enigma">
            <strong>Indizio</strong>
            Sotto il terzo arco del ponte, cerca la runa incisa nella pietra umida. Cosa vedi riflessa nell'acqua sotto di te?
          </div>
        </div>
        <div class="card-stats">
          <div class="stat"><div class="stat-val">3</div><div class="stat-label">Tappe</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">45'</div><div class="stat-label">Tempo</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">420</div><div class="stat-label">XP</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">â‚¬7</div><div class="stat-label">Quota</div></div>
        </div>
        <div class="card-rewards">
          <span class="reward-pill">Badge Navigatore</span>
          <span class="reward-pill reward-gold">Coupon 10%</span>
        </div>
        <div class="card-footer">
          <span class="card-num">VHR Â· 005/024</span>
          <span class="card-set">Serie Origini</span>
        </div>
      </div>
    </div>

    <!-- CARD 3 Â· TERRA Â· Facile -->
    <div class="card earth" data-element="earth" onclick="openModal(this)">
      <div class="card-inner">
        <div class="card-header">
          <span class="card-name">La Risaia dei Libui</span>
          <div class="card-cost">
            <div class="cost-gem">ðŸŒ¿</div>
          </div>
        </div>
        <div class="card-artwork">
          <svg viewBox="0 0 320 170" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="sky3" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#1a2e0a"/>
                <stop offset="50%" stop-color="#2a4a10"/>
                <stop offset="100%" stop-color="#1c3a0a"/>
              </linearGradient>
              <linearGradient id="field3" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#2e5e10"/>
                <stop offset="100%" stop-color="#1a3a08"/>
              </linearGradient>
            </defs>
            <rect width="320" height="170" fill="url(#sky3)"/>
            <!-- Distant Alps silhouette -->
            <path d="M 0 80 L 40 50 L 70 65 L 110 35 L 150 55 L 190 30 L 230 52 L 260 40 L 290 55 L 320 45 L 320 80 Z" fill="#1a2e0a" opacity="0.8"/>
            <!-- Rice field rows -->
            <rect x="0" y="95" width="320" height="75" fill="url(#field3)"/>
            <!-- Field lines -->
            <line x1="0" y1="103" x2="320" y2="103" stroke="#3a7a18" stroke-width="1" opacity="0.4"/>
            <line x1="0" y1="113" x2="320" y2="113" stroke="#3a7a18" stroke-width="1" opacity="0.4"/>
            <line x1="0" y1="123" x2="320" y2="123" stroke="#3a7a18" stroke-width="1" opacity="0.4"/>
            <line x1="0" y1="133" x2="320" y2="133" stroke="#3a7a18" stroke-width="1" opacity="0.4"/>
            <line x1="0" y1="143" x2="320" y2="143" stroke="#3a7a18" stroke-width="1" opacity="0.4"/>
            <!-- Water reflection in fields -->
            <rect x="0" y="95" width="320" height="6" fill="#4fc3f7" opacity="0.08"/>
            <!-- Rice stalks -->
            <g opacity="0.7">
              <line x1="30" y1="95" x2="30" y2="75" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="60" y1="95" x2="60" y2="72" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="90" y1="95" x2="90" y2="78" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="120" y1="95" x2="120" y2="73" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="150" y1="95" x2="150" y2="76" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="180" y1="95" x2="180" y2="74" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="210" y1="95" x2="210" y2="77" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="240" y1="95" x2="240" y2="73" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="270" y1="95" x2="270" y2="75" stroke="#7cb342" stroke-width="1.5"/>
              <line x1="300" y1="95" x2="300" y2="78" stroke="#7cb342" stroke-width="1.5"/>
            </g>
            <!-- Celtic stone in field -->
            <rect x="148" y="65" width="24" height="32" rx="2" fill="#1a3a08"/>
            <rect x="150" y="63" width="20" height="4" rx="1" fill="#1a3a08"/>
            <text x="153" y="84" font-size="11" fill="#7cb342" opacity="0.8" font-family="serif">á›–</text>
            <!-- Sun -->
            <circle cx="240" cy="40" r="22" fill="#2e5e10" opacity="0.5"/>
            <circle cx="240" cy="38" r="18" fill="#7cb342" opacity="0.25"/>
            <!-- Birds -->
            <path d="M 80 48 Q 85 44 90 48" fill="none" stroke="#7cb342" stroke-width="1" opacity="0.5"/>
            <path d="M 95 42 Q 100 38 105 42" fill="none" stroke="#7cb342" stroke-width="1" opacity="0.5"/>
          </svg>
          <div class="rarity-badge">Comune</div>
        </div>
        <div class="card-type">
          <span>Missione Â· Risaia Â· Periferia</span>
          <span>Terra</span>
        </div>
        <div class="card-textbox">
          <div class="card-flavor">"I Libui seminavano riso prima ancora che Vercelli avesse un nome. La pianura ricorda ancora."</div>
          <div class="card-enigma">
            <strong>Indizio</strong>
            Trova la pietra solitaria in mezzo al campo. Quante rune porta incise? Il numero Ã¨ la tua chiave.
          </div>
        </div>
        <div class="card-stats">
          <div class="stat"><div class="stat-val">3</div><div class="stat-label">Tappe</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">40'</div><div class="stat-label">Tempo</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">280</div><div class="stat-label">XP</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">â‚¬5</div><div class="stat-label">Quota</div></div>
        </div>
        <div class="card-rewards">
          <span class="reward-pill">Badge Seminatore</span>
          <span class="reward-pill reward-gold">Coupon Locale</span>
        </div>
        <div class="card-footer">
          <span class="card-num">VHR Â· 009/024</span>
          <span class="card-set">Serie Origini</span>
        </div>
      </div>
    </div>

    <!-- CARD 4 Â· VENTO Â· Leggendaria -->
    <div class="card wind" data-element="wind" onclick="openModal(this)">
      <div class="card-inner">
        <div class="card-header">
          <span class="card-name">Il Castello di Prarolo</span>
          <div class="card-cost">
            <div class="cost-gem">âš¡</div>
            <div class="cost-gem">âš¡</div>
            <div class="cost-gem">âš¡</div>
            <div class="cost-gem">âš¡</div>
          </div>
        </div>
        <div class="card-artwork">
          <svg viewBox="0 0 320 170" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <radialGradient id="sky4" cx="50%" cy="40%">
                <stop offset="0%" stop-color="#2a0a3e"/>
                <stop offset="100%" stop-color="#0a0314"/>
              </radialGradient>
              <radialGradient id="aura4" cx="50%" cy="60%">
                <stop offset="0%" stop-color="#b57bee" stop-opacity="0.3"/>
                <stop offset="100%" stop-color="transparent"/>
              </radialGradient>
            </defs>
            <rect width="320" height="170" fill="url(#sky4)"/>
            <rect width="320" height="170" fill="url(#aura4)"/>
            <!-- Nebula/aurora effect -->
            <ellipse cx="160" cy="60" rx="150" ry="40" fill="#4a1c6e" opacity="0.2"/>
            <ellipse cx="100" cy="45" rx="90" ry="25" fill="#6a2a9e" opacity="0.15"/>
            <!-- Stars scattered -->
            <circle cx="20" cy="15" r="1.2" fill="#e0b0ff" opacity="0.8"/>
            <circle cx="50" cy="8" r="0.8" fill="#e0b0ff" opacity="0.6"/>
            <circle cx="100" cy="20" r="1" fill="#e0b0ff" opacity="0.7"/>
            <circle cx="140" cy="10" r="1.5" fill="#b57bee" opacity="0.9"/>
            <circle cx="200" cy="18" r="0.8" fill="#e0b0ff" opacity="0.5"/>
            <circle cx="250" cy="8" r="1.2" fill="#e0b0ff" opacity="0.7"/>
            <circle cx="290" cy="22" r="1" fill="#e0b0ff" opacity="0.6"/>
            <circle cx="310" cy="10" r="0.8" fill="#e0b0ff" opacity="0.5"/>
            <!-- Castle main structure -->
            <rect x="80" y="50" width="160" height="120" fill="#0f0520"/>
            <!-- Castle towers -->
            <rect x="60" y="35" width="40" height="115" fill="#0d0418"/>
            <rect x="220" y="35" width="40" height="115" fill="#0d0418"/>
            <!-- Tower tops (merlature) -->
            <rect x="60" y="25" width="8" height="15" fill="#0d0418"/>
            <rect x="73" y="25" width="8" height="15" fill="#0d0418"/>
            <rect x="86" y="25" width="8" height="15" fill="#0d0418"/>
            <rect x="222" y="25" width="8" height="15" fill="#0d0418"/>
            <rect x="235" y="25" width="8" height="15" fill="#0d0418"/>
            <rect x="248" y="25" width="8" height="15" fill="#0d0418"/>
            <!-- Castle merlature center -->
            <rect x="100" y="40" width="10" height="14" fill="#0f0520"/>
            <rect x="118" y="40" width="10" height="14" fill="#0f0520"/>
            <rect x="136" y="40" width="10" height="14" fill="#0f0520"/>
            <rect x="154" y="40" width="10" height="14" fill="#0f0520"/>
            <rect x="172" y="40" width="10" height="14" fill="#0f0520"/>
            <rect x="190" y="40" width="10" height="14" fill="#0f0520"/>
            <rect x="208" y="40" width="10" height="14" fill="#0f0520"/>
            <!-- Gate -->
            <rect x="140" y="110" width="40" height="60" fill="#06010e"/>
            <path d="M 140 120 Q 160 100 180 120" fill="#06010e"/>
            <!-- Windows with purple glow -->
            <rect x="88" y="65" width="20" height="28" rx="10" fill="#b57bee" opacity="0.5"/>
            <rect x="118" y="65" width="20" height="28" rx="10" fill="#b57bee" opacity="0.35"/>
            <rect x="182" y="65" width="20" height="28" rx="10" fill="#b57bee" opacity="0.35"/>
            <rect x="212" y="65" width="20" height="28" rx="10" fill="#b57bee" opacity="0.5"/>
            <!-- Tower windows -->
            <rect x="70" y="55" width="14" height="20" rx="7" fill="#b57bee" opacity="0.6"/>
            <rect x="236" y="55" width="14" height="20" rx="7" fill="#b57bee" opacity="0.6"/>
            <!-- Magic aura around castle -->
            <ellipse cx="160" cy="150" rx="100" ry="12" fill="#4a1c6e" opacity="0.4"/>
            <!-- Ground -->
            <rect x="0" y="150" width="320" height="20" fill="#06010e"/>
            <!-- Floating rune -->
            <text x="152" y="105" font-size="14" fill="#b57bee" opacity="0.7" font-family="serif">á›‰</text>
          </svg>
          <div class="rarity-badge">Mitica</div>
        </div>
        <div class="card-type">
          <span>Missione Â· Castello Â· Prarolo</span>
          <span>Vento</span>
        </div>
        <div class="card-textbox">
          <div class="card-flavor">"Il castello di Prarolo ha visto nascere regni e segreti che nessun libro ha mai osato scrivere."</div>
          <div class="card-enigma">
            <strong>Indizio</strong>
            La torre piÃ¹ alta guarda verso nord. Che cosa vedi all'orizzonte quando il vento soffia da est? La risposta non si trova sulle mappe.
          </div>
        </div>
        <div class="card-stats">
          <div class="stat"><div class="stat-val">7</div><div class="stat-label">Tappe</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">120'</div><div class="stat-label">Tempo</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">1400</div><div class="stat-label">XP</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">â‚¬18</div><div class="stat-label">Quota</div></div>
        </div>
        <div class="card-rewards">
          <span class="reward-pill">Badge Signore</span>
          <span class="reward-pill reward-gold">Coupon 30%</span>
          <span class="reward-pill">Gadget Esclusivo</span>
          <span class="reward-pill">NFT Runa</span>
        </div>
        <div class="card-footer">
          <span class="card-num">VHR Â· 002/024</span>
          <span class="card-set">Serie Origini</span>
        </div>
      </div>
    </div>

    <!-- CARD 5 Â· ACQUA Â· Facile -->
    <div class="card water" data-element="water" onclick="openModal(this)">
      <div class="card-inner">
        <div class="card-header">
          <span class="card-name">Il Battistero di Sant'Eusebio</span>
          <div class="card-cost">
            <div class="cost-gem">ðŸ’§</div>
          </div>
        </div>
        <div class="card-artwork">
          <svg viewBox="0 0 320 170" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="sky5" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#06111e"/>
                <stop offset="100%" stop-color="#0a1e30"/>
              </linearGradient>
            </defs>
            <rect width="320" height="170" fill="url(#sky5)"/>
            <!-- Stars -->
            <circle cx="30" cy="18" r="0.8" fill="#a0d8ff" opacity="0.6"/>
            <circle cx="75" cy="10" r="1" fill="#a0d8ff" opacity="0.7"/>
            <circle cx="200" cy="22" r="0.8" fill="#a0d8ff" opacity="0.5"/>
            <circle cx="280" cy="12" r="1.2" fill="#a0d8ff" opacity="0.6"/>
            <!-- Church/Baptistery -->
            <rect x="100" y="60" width="120" height="110" fill="#061420"/>
            <!-- Dome -->
            <path d="M 100 60 Q 160 10 220 60 Z" fill="#081828"/>
            <circle cx="160" cy="45" r="8" fill="#1565a0" opacity="0.6"/>
            <!-- Cross on dome -->
            <line x1="160" y1="16" x2="160" y2="30" stroke="#4fc3f7" stroke-width="2" opacity="0.7"/>
            <line x1="154" y1="22" x2="166" y2="22" stroke="#4fc3f7" stroke-width="2" opacity="0.7"/>
            <!-- Columns -->
            <rect x="108" y="80" width="8" height="90" fill="#040e1c"/>
            <rect x="124" y="80" width="8" height="90" fill="#040e1c"/>
            <rect x="188" y="80" width="8" height="90" fill="#040e1c"/>
            <rect x="204" y="80" width="8" height="90" fill="#040e1c"/>
            <!-- Arched door -->
            <rect x="148" y="115" width="24" height="55" fill="#030a14"/>
            <path d="M 148 122 Q 160 110 172 122" fill="#030a14"/>
            <!-- Rose window -->
            <circle cx="160" cy="78" r="12" fill="none" stroke="#4fc3f7" stroke-width="1" opacity="0.5"/>
            <circle cx="160" cy="78" r="6" fill="#1565a0" opacity="0.4"/>
            <line x1="148" y1="78" x2="172" y2="78" stroke="#4fc3f7" stroke-width="0.8" opacity="0.4"/>
            <line x1="160" y1="66" x2="160" y2="90" stroke="#4fc3f7" stroke-width="0.8" opacity="0.4"/>
            <!-- Steps -->
            <rect x="85" y="163" width="150" height="7" fill="#061420"/>
            <rect x="92" y="157" width="136" height="7" fill="#081a28"/>
            <!-- Fountain/baptismal water -->
            <ellipse cx="160" cy="148" rx="18" ry="6" fill="#1565a0" opacity="0.5"/>
            <!-- Trees silhouette -->
            <rect x="40" y="90" width="6" height="80" fill="#040e1c"/>
            <ellipse cx="43" cy="85" rx="20" ry="28" fill="#040e1c"/>
            <rect x="268" y="90" width="6" height="80" fill="#040e1c"/>
            <ellipse cx="271" cy="85" rx="20" ry="28" fill="#040e1c"/>
          </svg>
          <div class="rarity-badge">Comune</div>
        </div>
        <div class="card-type">
          <span>Missione Â· Chiesa Â· Piazza Duomo</span>
          <span>Acqua</span>
        </div>
        <div class="card-textbox">
          <div class="card-flavor">"L'acqua battesimale e le rune dei Libui parlano la stessa lingua: quella dell'inizio."</div>
          <div class="card-enigma">
            <strong>Indizio</strong>
            Quanti archi sorreggono la navata? Ogni arco nasconde un numero. La somma Ã¨ la porta.
          </div>
        </div>
        <div class="card-stats">
          <div class="stat"><div class="stat-val">3</div><div class="stat-label">Tappe</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">35'</div><div class="stat-label">Tempo</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">260</div><div class="stat-label">XP</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">â‚¬5</div><div class="stat-label">Quota</div></div>
        </div>
        <div class="card-rewards">
          <span class="reward-pill">Badge Cercatore</span>
          <span class="reward-pill reward-gold">Coupon 10%</span>
        </div>
        <div class="card-footer">
          <span class="card-num">VHR Â· 007/024</span>
          <span class="card-set">Serie Origini</span>
        </div>
      </div>
    </div>

    <!-- CARD 6 Â· TERRA Â· Media -->
    <div class="card earth" data-element="earth" onclick="openModal(this)">
      <div class="card-inner">
        <div class="card-header">
          <span class="card-name">Il Mercato Medievale</span>
          <div class="card-cost">
            <div class="cost-gem">ðŸŒ¿</div>
            <div class="cost-gem">ðŸŒ¿</div>
          </div>
        </div>
        <div class="card-artwork">
          <svg viewBox="0 0 320 170" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="sky6" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#111e09"/>
                <stop offset="100%" stop-color="#1a2e0a"/>
              </linearGradient>
            </defs>
            <rect width="320" height="170" fill="url(#sky6)"/>
            <!-- Street cobblestones -->
            <rect x="0" y="120" width="320" height="50" fill="#0e1a06"/>
            <line x1="0" y1="128" x2="320" y2="128" stroke="#1a3208" stroke-width="0.8" opacity="0.5"/>
            <line x1="0" y1="138" x2="320" y2="138" stroke="#1a3208" stroke-width="0.8" opacity="0.5"/>
            <line x1="0" y1="148" x2="320" y2="148" stroke="#1a3208" stroke-width="0.8" opacity="0.5"/>
            <!-- Market stalls -->
            <rect x="20" y="70" width="70" height="55" fill="#0d1a05"/>
            <rect x="10" y="62" width="90" height="12" fill="#7cb342" opacity="0.6"/>
            <path d="M 10 62 L 55 48 L 100 62 Z" fill="#5a9a28" opacity="0.5"/>
            <rect x="120" y="65" width="80" height="58" fill="#0d1a05"/>
            <rect x="112" y="57" width="96" height="12" fill="#7cb342" opacity="0.7"/>
            <path d="M 112 57 L 160 43 L 208 57 Z" fill="#5a9a28" opacity="0.6"/>
            <rect x="220" y="68" width="80" height="55" fill="#0d1a05"/>
            <rect x="212" y="60" width="96" height="12" fill="#7cb342" opacity="0.5"/>
            <path d="M 212 60 L 260 46 L 308 60 Z" fill="#5a9a28" opacity="0.4"/>
            <!-- Goods on stalls -->
            <circle cx="40" cy="95" r="5" fill="#7cb342" opacity="0.6"/>
            <circle cx="55" cy="92" r="4" fill="#5a9a28" opacity="0.7"/>
            <circle cx="70" cy="94" r="5" fill="#7cb342" opacity="0.5"/>
            <rect x="135" y="88" width="12" height="20" rx="2" fill="#5a9a28" opacity="0.6"/>
            <rect x="152" y="90" width="8" height="18" rx="2" fill="#7cb342" opacity="0.5"/>
            <rect x="170" y="87" width="14" height="21" rx="2" fill="#5a9a28" opacity="0.6"/>
            <!-- Lanterns -->
            <circle cx="95" cy="30" r="8" fill="#7cb342" opacity="0.4"/>
            <line x1="95" y1="22" x2="95" y2="15" stroke="#3a6a14" stroke-width="1"/>
            <circle cx="215" cy="28" r="8" fill="#7cb342" opacity="0.3"/>
            <line x1="215" y1="20" x2="215" y2="13" stroke="#3a6a14" stroke-width="1"/>
            <!-- Figures silhouette -->
            <ellipse cx="85" cy="118" rx="8" ry="14" fill="#080f04"/>
            <circle cx="85" cy="103" r="5" fill="#080f04"/>
            <ellipse cx="165" cy="116" rx="8" ry="15" fill="#080f04"/>
            <circle cx="165" cy="100" r="5" fill="#080f04"/>
            <text x="152" y="58" font-size="9" fill="#7cb342" opacity="0.6" font-family="serif">á›—</text>
          </svg>
          <div class="rarity-badge">Non Comune</div>
        </div>
        <div class="card-type">
          <span>Missione Â· Piazza Â· Centro Storico</span>
          <span>Terra</span>
        </div>
        <div class="card-textbox">
          <div class="card-flavor">"Secoli fa questa piazza risuonava di voci e merci. Oggi risuona di segreti, se sai ascoltare."</div>
          <div class="card-enigma">
            <strong>Indizio</strong>
            Tre bancarelle, tre rune. Solo una appartiene ai Libui. Quale metallo la identifica tra tutti?
          </div>
        </div>
        <div class="card-stats">
          <div class="stat"><div class="stat-val">4</div><div class="stat-label">Tappe</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">50'</div><div class="stat-label">Tempo</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">510</div><div class="stat-label">XP</div></div>
          <div class="stat-sep"></div>
          <div class="stat"><div class="stat-val">â‚¬8</div><div class="stat-label">Quota</div></div>
        </div>
        <div class="card-rewards">
          <span class="reward-pill">Badge Mercante</span>
          <span class="reward-pill reward-gold">Coupon 15%</span>
          <span class="reward-pill">Gadget VHR</span>
        </div>
        <div class="card-footer">
          <span class="card-num">VHR Â· 011/024</span>
          <span class="card-set">Serie Origini</span>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- LEGEND -->
<div class="legend">
  <div class="legend-item"><div class="legend-dot" style="background:var(--fire-b)"></div><span style="color:var(--fire-c)">Fuoco Â· Difficile</span></div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--water-b)"></div><span style="color:var(--water-c)">Acqua Â· Media / Facile</span></div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--earth-b)"></div><span style="color:var(--earth-c)">Terra Â· Facile / Media</span></div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--wind-b)"></div><span style="color:var(--wind-c)">Vento Â· Leggendaria</span></div>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modal" onclick="closeModal(event)">
  <div class="modal-card" id="modalCard"></div>
  <button class="modal-close" onclick="document.getElementById('modal').classList.remove('open')">âœ•</button>
</div>

<script>
function filterCards(element, btn) {
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  document.querySelectorAll('.card').forEach(c => {
    if (element === 'all' || c.dataset.element === element) {
      c.style.display = '';
      c.style.opacity = '1';
    } else {
      c.style.opacity = '0.15';
      c.style.pointerEvents = 'none';
      setTimeout(() => { if(c.style.opacity === '0.15') c.style.display = ''; }, 300);
    }
  });
  if(element !== 'all') {
    document.querySelectorAll('.card').forEach(c => {
      if(c.dataset.element !== element) { c.style.pointerEvents = 'none'; }
      else { c.style.pointerEvents = ''; }
    });
  } else {
    document.querySelectorAll('.card').forEach(c => { c.style.pointerEvents = ''; c.style.opacity = '1'; });
  }
}

function openModal(card) {
  const modal = document.getElementById('modal');
  const modalCard = document.getElementById('modalCard');
  modalCard.innerHTML = card.outerHTML;
  // Remove click handler on clone
  modalCard.querySelector('.card').onclick = null;
  modalCard.querySelector('.card').style.transform = 'none';
  modalCard.querySelector('.card').style.cursor = 'default';
  modal.classList.add('open');
}

function closeModal(e) {
  if(e.target.id === 'modal') {
    document.getElementById('modal').classList.remove('open');
  }
}

document.addEventListener('keydown', e => {
  if(e.key === 'Escape') document.getElementById('modal').classList.remove('open');
});
</script>
</body>
</html>
